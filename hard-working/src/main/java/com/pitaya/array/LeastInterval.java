package com.pitaya.array;

import java.util.Arrays;

/**
 * @Description:621. ?????
 * @Date 2024/06/12 07:48:00
 **/
public class LeastInterval {
    public int leastInterval(char[] tasks, int n) {
        //???????????????????????
        int[] hash = new int[26];
        for(int i = 0; i < tasks.length; ++i) {
            hash[tasks[i] - 'A'] += 1;
        }
        Arrays.sort(hash);
        //?????????n????????A??3??n = 2????????????AXX AXX A???X???????
        //??????
        int minLen = (n+1) *  (hash[25] - 1) + 1;

        //????????X??????????????????????????????X???????
        //?????????????
        //1.?A?????????B?????????ABX ABX AB????????????????+1
        //2.?A?????????X??????X?????C???????ABC ABC AB???
        //??X?????????????????X????????????n
        for(int i = 24; i >= 0; --i){
            if(hash[i] == hash[25]) ++ minLen;
        }
        //???X????????????
        //???????????ABC??????????????ABCD ABCD??D???????n+1?????????
        //????X?????????????????task.length???????????????
        return Math.max(minLen, tasks.length);
    }
}

/**
 * ????????? tasks ??? CPU ????????????? A ? Z ??????????? n???????????????????????????????????????? ???? ??????????? n ??????
 *
 * ???????????? ?????? ?
 *
 * ?? 1?
 *
 * ???tasks = ["A","A","A","B","B","B"], n = 2
 * ???8
 * ???A -> B -> (??) -> A -> B -> (??) -> A -> B
 *      ??????????????????????? n = 2 ?????????????????????????????????????
 * ?? 2?
 *
 * ???tasks = ["A","A","A","B","B","B"], n = 0
 * ???6
 * ??????????????? 6 ????????????? n = 0
 * ["A","A","A","B","B","B"]
 * ["A","B","A","B","A","B"]
 * ["B","B","B","A","A","A"]
 * ...
 * ????
 * ?? 3?
 *
 * ???tasks = ["A","A","A","A","A","A","B","C","D","E","F","G"], n = 2
 * ???16
 * ??????????????
 *      A -> B -> C -> A -> D -> E -> A -> F -> G -> A -> (??) -> (??) -> A -> (??) -> (??) -> A
 */
